{
    "version": "7.2",
    "description": "foobox is an CUI integration for foobar2000. Providing friendly and modern UI and extensive configuration for foobar2000.",
    "homepage": "https://www.cnblogs.com/foobox/",
    "license": {
        "identifier": "Freeware",
        "url": "https://www.foobar2000.org/license"
    },
    "notes": "This work, including the foobar2000 Chinese program and components, may not be used directly or modified for any commercial or other for-profit activity.",
    "architecture": {
        "64bit": {
            "url": "https://github.com/dream7180/foobox-cn/releases/download/7.2/foobox_7.2.7z",
            "hash": "71ad2138fd384d51c142d9a60b6ae375e00eba8c28a338266d7c48ce725ed99b",
            "extract_dir": "foobar2000",
            "pre_install": [
                "if (!(is_admin)) { error \"$app requires admin rights to $cmd, please run 'sudo scoop $cmd $app'\"; break}",
                "'ShellExt32.dll', 'ShellExt64.dll' | ForEach-Object {",
                "    Invoke-ExternalCommand regsvr32 -ArgumentList @('/s', \"$dir\\$_\") | Out-Null",
                "}",
                "if (Test-Path \"$dir\\profile\\user-components\\foo_input_sacd\\dsd_transcoder_x64.dll\") {",
                "    Invoke-ExternalCommand regsvr32 -ArgumentList @('/s', \"$dir\\profile\\user-components\\foo_input_sacd\\dsd_transcoder_x64.dll\") | Out-Null",
                "}"
            ],
            "pre_uninstall": [
                "if (!(is_admin)) { error \"$app requires admin rights to $cmd, please run 'sudo scoop $cmd $app'\"; break}",
                "'ShellExt32.dll', 'ShellExt64.dll' | ForEach-Object {",
                "    Invoke-ExternalCommand regsvr32 -ArgumentList @('/u', '/s', \"$dir\\$_\") | Out-Null",
                "}",
                "if (Test-Path \"$dir\\profile\\user-components\\foo_input_sacd\\dsd_transcoder_x64.dll\") {",
                "    Invoke-ExternalCommand regsvr32 -ArgumentList @('/u', '/s', \"$dir\\profile\\user-components\\foo_input_sacd\\dsd_transcoder_x64.dll\") | Out-Null",
                "}"
            ]
        }
    },
    "shortcuts": [
        [
            "foobar2000.exe",
            "Foobox"
        ]
    ],
    "persist": "profile",
    "checkver": {
        "github": "https://github.com/dream7180/foobox-cn"
    },
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://github.com/dream7180/foobox-cn/releases/download/$version/foobox_$version.7z"
            }
        }
    }
}

